{% extends 'main.html' %}
{% load static %}

{% block title %}
Select Opinion
{% endblock %}

{% block extrastyle %}
    <link rel="stylesheet" href="{% static 'scrapper_app/css/datatables.css' %}">
    <script src="{% static 'scrapper_app/js/datatables.js' %}"></script>
    <script src="{% static 'scrapper_app/js/select_opinion.js' %}"></script>
{% endblock %}

{% block content %}
    {% if info %}
        <div class="alert alert-warning" role="alert">{{ info }}</div>
    {% endif %}
    <div class="pt-3 pb-0 mb-0">
        <h1>Wybierz opinię</h1>
        <p class="m-0 p-0">lub <a href="{% url 'add_product' %}"><span class="badge badge-success">dodaj nowy produkt</span></a>.</p>
    </div>
    <hr class="">
    {% if not opinions %}
        <p class="py-3">Brak opinii do wyświetlenia.</p>
    {% else %}
        <table id="table" class="table">
            <thead class="thead-light"><th>id</th><th>produkt</th><th>autor</th><th>treść</th><th>ocena</th></thead>
            {% for opinion in opinions %}
                <tr><td><a href="/opinions/{{ opinion.opinion_id }}">{{ opinion.opinion_id }}</a></td><td><a href="/products/{{ opinion.product.product_id }}">{{ opinion.product.name }}</a></td><td>{{ opinion.author }}</td><td>{{ opinion.content | truncatechars:100 }}</td><td>{{ opinion.stars }} / 5.0</td></tr>
            {% endfor %}
        </table>
    {% endif %}
{% endblock %}

